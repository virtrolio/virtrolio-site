<nav class="navbar navbar-expand-md navbar-dark bg-light">
  <a class="navbar-brand" id="navbar_title" routerLink="">
    <!--suppress CheckImageSize -->
    <img alt="Virtrolio Logo" class="d-inline-block align-top" height="30"
         src="../../../assets/images/logo_inverted-circle.png"
         width="30">
    Virtrolio
    <span class="navbar-beta-text">beta</span>
  </a>
  <!-- Hamburger menu on mobile -->
  <button aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler"
          data-target="#navbarNav"
          data-toggle="collapse" type="button">
    <span class="navbar-toggler-icon"></span>
  </button>
  <!-- Collapsible menu items -->
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav ml-2">
      <li class="nav-item">
        <a class="nav-link" routerLink="">Home</a>
      </li>
      <li class="nav-item">
        <a [hidden]="!authService.isLoggedIn()" class="nav-link" routerLink="/my-virtrolio">My virtrolio</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" routerLink="about">About Us</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" routerLink="faq">FAQ</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" routerLink="contact">Contact Us</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" role="button" data-toggle="modal" data-target="#changelog">What's New?</a>
      </li>
      <li *ngIf="authService.isLoggedIn()" class="dropdown-divider d-block d-sm-block d-md-none"></li>
      <li class="nav-item d-block d-sm-block d-md-none">
        <a [hidden]="!authService.isLoggedIn()" class="nav-link" routerLink="settings">Settings</a>
      </li>
      <li class="nav-item d-block d-sm-block d-md-none">
        <a [hidden]="!authService.isLoggedIn()" (click)="authService.logout()" class="nav-link" href="#">Logout</a>
      </li>
    </ul>
  </div>
  <!-- Profile pic menu on desktop if logged in -->
  <div class="float-right d-none d-md-block d-lg-block d-xl-block">
    <div class="dropdown dropleft">
      <a aria-expanded="false" aria-haspopup="true" data-toggle="dropdown" href="#" id="dropdownMenuLink" role="button">
        <div *ngIf="authService.isLoggedIn()" class="float-right profile-pic-container">
          <img alt="profile-pic" class="profile-pic" src="{{ authService.notAsyncProfilePictureLink() }}">
        </div>
      </a>
      <div aria-labelledby="dropdownMenuButton" class="dropdown-menu">
        <a class="dropdown-item" routerLink="settings">Settings</a>
        <a (click)="authService.logout()" class="dropdown-item" href="#" id="logout-text">Logout</a>
      </div>
    </div>
  </div>
</nav>

<!-- Changelog modal -->
<div class="modal fade" id="changelog" tabindex="-1" role="dialog" aria-labelledby="changelogLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="changelogLabel">Surprise! New Features!</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" id="changelog-body">
        <p>New features, fixes, and updates will be posted here whenever we update the website!</p>
        <p><small>Note: Whenever we
          release a minor or major update to the website (aka if the first or second number in the version number
          increments, e.g. 1.1.0 -> 2.1.0 or 1.1.0 -> 1.2.0 but NOT 1.1.0. -> 1.1.1) you will be able to send another
          message to your friend's virtrolio, even if you've sent one already!</small></p>
        <div *ngFor="let version of changelog">
          <p><strong>{{version.versionNumber}}</strong></p>
          <ul>
            <li *ngFor="let item of version.items">
              <span [attr.class]="item.typeCSS">[{{item.type}}]</span>&nbsp;<u>{{item.location}}</u>:
              {{item.content}}
            </li>
          </ul>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
