<div class="card shadow">
  <div class="msg-header">
    <div class="msg-header-group">
      <table class="header-table">
        <tr>
          <td>
            <span class="profile-pic-container-small mr-2">
              <img alt="profile-pic" class="profile-pic" src="{{ viewService.currentMessageModal.fromPic }}">
            </span>
          </td>
          <td>
            <table>
              <tr class="msg-header-text">
                {{ viewService.currentMessageModal.fromName }}
              </tr>
              <tr class="msg-header-date">
                {{ viewService.timeSince(viewService.nowMillis,
                viewService.currentMessageModal.timestamp.toMillis(),
                viewService.currentMessageModal.timestamp.toDate().toDateString()) }}
              </tr>
            </table>
          </td>
        </tr>
      </table>
    </div>
    <div class="card-header-group">
      <table class="header-table">
        <tr>
          <td>
            <a target="_blank" [routerLink]="['/viewing']" [queryParams]="{ messageId: viewService.currentMessageModal.id, showBookmarkAlert: true }">
              <button (click)="viewService.bookmarkMessage(viewService.currentMessageModal.id)" class="btn card-button"
                      type="button">
                <img alt="bookmark" class="card-icon" src="../../../../assets/images/icons/bookmark.svg">
              </button>
            </a>
            <button (click)="activeModal.close('Close click')" class="btn" type="button">
              <img alt="close" class="card-icon" src="../../../../assets/images/icons/exit.svg">
            </button>
          </td>
        </tr>
      </table>
    </div>
  </div>
  <div [ngStyle]="{'background': viewService.currentMessageModal.backColor,
                   'color': viewService.currentMessageModal.fontColor,
                   'font-family': viewService.fonts[viewService.currentMessageModal.fontFamily].fontFamily
                   +','+ viewService.fonts[viewService.currentMessageModal.fontFamily].backupFont }"
       class="card-body message-card message">
    <markdown data="{{ viewService.decodeHtml(viewService.currentMessageModal.contents) }}" emoji></markdown>
  </div>
</div>
